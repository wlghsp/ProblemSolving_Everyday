# LeetCode 92. Reverse Linked List II - ì´ˆë³´ì íŒíŠ¸

## ë¬¸ì œ ìš”ì•½
ì—°ê²° ë¦¬ìŠ¤íŠ¸ì˜ **íŠ¹ì • êµ¬ê°„ë§Œ** ë’¤ì§‘ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.
- leftë²ˆì§¸ë¶€í„° rightë²ˆì§¸ ë…¸ë“œê¹Œì§€ë§Œ ë’¤ì§‘ê¸°
- ë‚˜ë¨¸ì§€ ë¶€ë¶„ì€ ê·¸ëŒ€ë¡œ ìœ ì§€

### ì˜ˆì‹œ
```
ì…ë ¥: head = [1,2,3,4,5], left = 2, right = 4
ì¶œë ¥: [1,4,3,2,5]

ì„¤ëª…:
ì›ë³¸: 1 -> 2 -> 3 -> 4 -> 5
      1 -> (4 -> 3 -> 2) -> 5
         â†‘ 2~4ë²ˆì§¸ë§Œ ë’¤ì§‘ìŒ
```

```
ì…ë ¥: head = [5], left = 1, right = 1
ì¶œë ¥: [5]

ì„¤ëª…: ë’¤ì§‘ì„ í•„ìš” ì—†ìŒ (í•œ ê°œ ë…¸ë“œ)
```

### ì œì•½ ì¡°ê±´
- ë…¸ë“œ ê°œìˆ˜: 1 â‰¤ n â‰¤ 500
- ë…¸ë“œ ê°’: -500 â‰¤ Node.val â‰¤ 500
- 1 â‰¤ left â‰¤ right â‰¤ n

---

## ğŸ’¡ í•µì‹¬ ì•„ì´ë””ì–´

ì´ ë¬¸ì œëŠ” **ë¶€ë¶„ ë’¤ì§‘ê¸° + ì—°ê²° ê´€ë¦¬**ê°€ í•µì‹¬ì…ë‹ˆë‹¤!

**3ë‹¨ê³„ ì „ëµ:**
1. left ì§ì „ ë…¸ë“œê¹Œì§€ ì´ë™
2. left~right êµ¬ê°„ë§Œ ë’¤ì§‘ê¸° (LeetCode 206 ì‘ìš©)
3. ë’¤ì§‘ì€ ë¶€ë¶„ì„ ë‹¤ì‹œ ì—°ê²°

---

## ğŸ”‘ í•´ê²° ì „ëµ

### 1ë‹¨ê³„: í¬ì¸í„° ì´í•´í•˜ê¸°

**í•„ìš”í•œ í¬ì¸í„°ë“¤:**
```
1 -> 2 -> 3 -> 4 -> 5    (left=2, right=4)
â†‘    â†‘         â†‘    â†‘
prev start     end  next

prev: left ì§ì „ ë…¸ë“œ (1)
start: left ë…¸ë“œ (2) - ë’¤ì§‘ì€ í›„ ëì´ ë¨
end: right ë…¸ë“œ (4) - ë’¤ì§‘ì€ í›„ ì‹œì‘ì´ ë¨
next: right ë‹¤ìŒ ë…¸ë“œ (5)
```

### 2ë‹¨ê³„: ë’¤ì§‘ê¸° ì „ ì¤€ë¹„

**left ì§ì „ê¹Œì§€ ì´ë™:**
```python
dummy = ListNode(0)  # ë”ë¯¸ ë…¸ë“œ (headê°€ ë’¤ì§‘í ê²½ìš° ëŒ€ë¹„)
dummy.next = head
prev = dummy

# left ì§ì „ ë…¸ë“œê¹Œì§€ ì´ë™
for _ in range(left - 1):
    prev = prev.next

start = prev.next  # left ë…¸ë“œ
```

**ì™œ ë”ë¯¸ ë…¸ë“œ?**
- left=1ì¸ ê²½ìš° (headë¶€í„° ë’¤ì§‘ê¸°) ì²˜ë¦¬ ì‰¬ì›Œì§
- í•­ìƒ ì´ì „ ë…¸ë“œê°€ ì¡´ì¬í•˜ë„ë¡ ë³´ì¥

### 3ë‹¨ê³„: êµ¬ê°„ ë’¤ì§‘ê¸°

**ë°©ë²• 1: í¬ì¸í„° ì¡°ì‘ìœ¼ë¡œ ë’¤ì§‘ê¸° (ì¶”ì²œ)**
```python
prev = start
curr = start.next

# left+1 ë¶€í„° rightê¹Œì§€ ë’¤ì§‘ê¸°
for _ in range(right - left):
    # currë¥¼ ì•ìœ¼ë¡œ ì´ë™
    temp = curr.next
    curr.next = prev.next
    prev.next = curr
    curr = temp
```

**ë™ì‘ ì˜ˆì‹œ:**
```
ì´ˆê¸°: 1 -> 2 -> 3 -> 4 -> 5  (left=2, right=4)
      prev=1, start=2, curr=3

1íšŒ: 1 -> 3 -> 2 -> 4 -> 5
     (3ì„ 2 ì•ìœ¼ë¡œ)

2íšŒ: 1 -> 4 -> 3 -> 2 -> 5
     (4ë¥¼ 3 ì•ìœ¼ë¡œ)
```

**ë°©ë²• 2: í‘œì¤€ ë’¤ì§‘ê¸° + ì—°ê²°**
```python
# left~right êµ¬ê°„ ë’¤ì§‘ê¸°
prev_node = None
curr = start

for _ in range(right - left + 1):
    next_temp = curr.next
    curr.next = prev_node
    prev_node = curr
    curr = next_temp

# ì—°ê²° ë‹¤ì‹œ í•˜ê¸°
prev.next = prev_node  # prev -> ë’¤ì§‘ì€ ì‹œì‘
start.next = curr      # ë’¤ì§‘ì€ ë -> next
```

---

## ğŸ“ ì „ì²´ ì½”ë“œ (ë°©ë²• 1 - ìµœì í™”)

```python
class Solution:
    def reverseBetween(self, head: Optional[ListNode], left: int, right: int) -> Optional[ListNode]:
        # ë’¤ì§‘ì„ í•„ìš”ê°€ ì—†ìœ¼ë©´ ê·¸ëŒ€ë¡œ ë°˜í™˜
        if not head or left == right:
            return head

        # ë”ë¯¸ ë…¸ë“œ ìƒì„±
        dummy = ListNode(0)
        dummy.next = head
        prev = dummy

        # left ì§ì „ ë…¸ë“œê¹Œì§€ ì´ë™
        for _ in range(left - 1):
            prev = prev.next

        # start: left ë…¸ë“œ (ë’¤ì§‘ì€ í›„ ëì´ ë¨)
        start = prev.next
        # then: left+1 ë…¸ë“œ (ë’¤ì§‘ì„ ì²« ëŒ€ìƒ)
        then = start.next

        # left+1ë¶€í„° rightê¹Œì§€ ë’¤ì§‘ê¸°
        for _ in range(right - left):
            start.next = then.next
            then.next = prev.next
            prev.next = then
            then = start.next

        return dummy.next
```

---

## ğŸ“ ì „ì²´ ì½”ë“œ (ë°©ë²• 2 - í‘œì¤€ ë’¤ì§‘ê¸°)

```python
class Solution:
    def reverseBetween(self, head: Optional[ListNode], left: int, right: int) -> Optional[ListNode]:
        if not head or left == right:
            return head

        dummy = ListNode(0)
        dummy.next = head
        prev = dummy

        # left ì§ì „ê¹Œì§€ ì´ë™
        for _ in range(left - 1):
            prev = prev.next

        # ë’¤ì§‘ì„ êµ¬ê°„ ì°¾ê¸°
        start = prev.next
        curr = start
        prev_node = None

        # left~right êµ¬ê°„ ë’¤ì§‘ê¸°
        for _ in range(right - left + 1):
            next_temp = curr.next
            curr.next = prev_node
            prev_node = curr
            curr = next_temp

        # ì—°ê²° ë³µêµ¬
        prev.next = prev_node  # left ì§ì „ -> ë’¤ì§‘ì€ ì‹œì‘
        start.next = curr      # ë’¤ì§‘ì€ ë -> right ë‹¤ìŒ

        return dummy.next
```

---

## ğŸ¯ ë‹¨ê³„ë³„ ë™ì‘ ì˜ˆì‹œ

**ì…ë ¥: [1,2,3,4,5], left=2, right=4**

**ë°©ë²• 1 ë™ì‘:**
```
ì´ˆê¸° ìƒíƒœ:
dummy -> 1 -> 2 -> 3 -> 4 -> 5
         â†‘    â†‘    â†‘
       prev start then

1íšŒ ë°˜ë³µ (3ì„ ì•ìœ¼ë¡œ):
dummy -> 1 -> 3 -> 2 -> 4 -> 5
         â†‘         â†‘    â†‘
       prev      start then

2íšŒ ë°˜ë³µ (4ë¥¼ ì•ìœ¼ë¡œ):
dummy -> 1 -> 4 -> 3 -> 2 -> 5
         â†‘              â†‘    â†‘
       prev          start then

ìµœì¢…: [1,4,3,2,5]
```

**ë°©ë²• 2 ë™ì‘:**
```
1ë‹¨ê³„: left ì§ì „ê¹Œì§€ ì´ë™
1 -> [2 -> 3 -> 4] -> 5
â†‘     â†‘
prev  start

2ë‹¨ê³„: êµ¬ê°„ ë’¤ì§‘ê¸° (í‘œì¤€ ë°©ë²•)
None <- 2 <- 3 <- 4
        â†‘         â†‘
      start    prev_node

3ë‹¨ê³„: ì—°ê²° ë³µêµ¬
1 -> 4 -> 3 -> 2 -> 5
     â†‘              â†‘
  prev_node      start
```

---

## ğŸ¤” ìì£¼í•˜ëŠ” ì‹¤ìˆ˜

### 1. ë”ë¯¸ ë…¸ë“œë¥¼ ì•ˆ ì“°ëŠ” ê²½ìš°
```python
# âŒ left=1ì¼ ë•Œ ë¬¸ì œ ë°œìƒ
prev = head
for _ in range(left - 1):  # 0ë²ˆ ë°˜ë³µ
    prev = prev.next  # prevê°€ ì—¬ì „íˆ head

# âœ… ë”ë¯¸ ë…¸ë“œ ì‚¬ìš©
dummy = ListNode(0)
dummy.next = head
prev = dummy  # í•­ìƒ head ì´ì „ ë…¸ë“œ ì¡´ì¬
```

### 2. ë°˜ë³µ íšŸìˆ˜ ì‹¤ìˆ˜
```python
# âŒ ì˜ëª»ëœ ë°˜ë³µ íšŸìˆ˜
for _ in range(right):  # rightë²ˆ ë’¤ì§‘ìŒ (í‹€ë¦¼)

# âœ… ì˜¬ë°”ë¥¸ ë°˜ë³µ íšŸìˆ˜
for _ in range(right - left):  # êµ¬ê°„ ê¸¸ì´ë§Œí¼
```

### 3. ì—°ê²° ë³µêµ¬ ìˆœì„œ ì‹¤ìˆ˜
```python
# âŒ start.nextë¥¼ ë¨¼ì € ë°”ê¾¸ë©´ prev_nodeì™€ì˜ ì—°ê²° ëŠê¹€
start.next = curr
prev.next = prev_node

# âœ… prev.nextë¥¼ ë¨¼ì € ë°”ê¾¸ê¸°
prev.next = prev_node
start.next = curr
```

---

## ğŸ¯ ì‹œê°„/ê³µê°„ ë³µì¡ë„

**ì‹œê°„ ë³µì¡ë„: O(n)**
- leftê¹Œì§€ ì´ë™: O(left)
- êµ¬ê°„ ë’¤ì§‘ê¸°: O(right - left)
- ì´: O(n)

**ê³µê°„ ë³µì¡ë„: O(1)**
- í¬ì¸í„°ë§Œ ì‚¬ìš© (ì¶”ê°€ ê³µê°„ ì—†ìŒ)

---

## ğŸ’ª í•µì‹¬ í¬ì¸íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ë”ë¯¸ ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ë¥¼ ì´í•´í–ˆë‚˜ìš”?
- [ ] left ì§ì „ ë…¸ë“œê¹Œì§€ ì´ë™í•˜ëŠ” ë°©ë²•ì„ ì•„ë‚˜ìš”?
- [ ] êµ¬ê°„ ë’¤ì§‘ê¸°ë¥¼ ëª‡ ë²ˆ ë°˜ë³µí•´ì•¼ í•˜ë‚˜ìš”? (right - left)
- [ ] ë’¤ì§‘ì€ í›„ ì—°ê²°ì„ ì˜¬ë°”ë¥´ê²Œ ë³µêµ¬í–ˆë‚˜ìš”?
- [ ] left=1, left=rightì¸ ì—£ì§€ ì¼€ì´ìŠ¤ ì²˜ë¦¬í–ˆë‚˜ìš”?

---

## ğŸš€ ì¶”ê°€ ë„ì „ ê³¼ì œ

1. **Follow-up: One Passë¡œ í’€ê¸°**
   - ìœ„ ì½”ë“œê°€ ì´ë¯¸ One Passì…ë‹ˆë‹¤!
   - í•œ ë²ˆì˜ ìˆœíšŒë¡œ ë’¤ì§‘ê¸° ì™„ë£Œ

2. **ê´€ë ¨ ë¬¸ì œ:**
   - LeetCode 206: Reverse Linked List (ì „ì²´ ë’¤ì§‘ê¸°)
   - LeetCode 25: Reverse Nodes in k-Group (kê°œì”© ë’¤ì§‘ê¸°)

3. **ì¶”ê°€ ìµœì í™”:**
   ```python
   # left == rightë©´ ë’¤ì§‘ì„ í•„ìš” ì—†ìŒ
   if left == right:
       return head
   ```

---

## ğŸ’¡ ë””ë²„ê¹… íŒ

ë§‰í˜”ë‹¤ë©´ ì´ë ‡ê²Œ í•´ë³´ì„¸ìš”:
```python
def reverseBetween(head, left, right):
    dummy = ListNode(0)
    dummy.next = head
    prev = dummy

    # ê° ë‹¨ê³„ë§ˆë‹¤ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
    def print_list(node, msg):
        vals = []
        while node:
            vals.append(str(node.val))
            node = node.next
        print(f"{msg}: {' -> '.join(vals)}")

    print_list(dummy.next, "Initial")

    for _ in range(left - 1):
        prev = prev.next

    start = prev.next
    then = start.next

    for i in range(right - left):
        start.next = then.next
        then.next = prev.next
        prev.next = then
        then = start.next
        print_list(dummy.next, f"After step {i+1}")

    return dummy.next
```

í™”ì´íŒ…! ë¶€ë¶„ ë’¤ì§‘ê¸°ëŠ” **ë©´ì ‘ì—ì„œ ìì£¼ ë‚˜ì˜¤ëŠ” ì‘ìš© ë¬¸ì œ**ì…ë‹ˆë‹¤.
ì™„ì „íˆ ì´í•´í•˜ë©´ ì—°ê²° ë¦¬ìŠ¤íŠ¸ ì¡°ì‘ì˜ ê³ ìˆ˜ê°€ ë  ê±°ì˜ˆìš”! ğŸ”¥
