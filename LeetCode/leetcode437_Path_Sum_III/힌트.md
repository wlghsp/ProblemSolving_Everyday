# LeetCode 437. Path Sum III - íŒíŠ¸

## ë¬¸ì œ ìš”ì•½
ì´ì§„ íŠ¸ë¦¬ì—ì„œ **í•©ì´ targetSumì´ ë˜ëŠ” ê²½ë¡œì˜ ìˆ˜**ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.
- ê²½ë¡œëŠ” ì•„ë˜ ë°©í–¥ìœ¼ë¡œë§Œ (ë¶€ëª¨ â†’ ìì‹)
- ë£¨íŠ¸ì—ì„œ ì‹œì‘í•˜ì§€ ì•Šì•„ë„ ë¨
- ë¦¬í”„ì—ì„œ ëë‚˜ì§€ ì•Šì•„ë„ ë¨

### ì˜ˆì‹œ
```
        10
       /  \
      5   -3
     / \    \
    3   2   11
   / \   \
  3  -2   1

targetSum = 8

ê²½ë¡œ 3ê°œ:
1. 5 â†’ 3          (5+3 = 8)
2. 5 â†’ 2 â†’ 1      (5+2+1 = 8)
3. -3 â†’ 11        (-3+11 = 8)

ì¶œë ¥: 3
```

### ì œì•½ ì¡°ê±´
- ë…¸ë“œ ìˆ˜: 0 ~ 1000
- ë…¸ë“œ ê°’: -10^9 ~ 10^9
- targetSum: -1000 ~ 1000

---

## Level 1 - ë°©í–¥ íŒíŠ¸

**Prefix Sum + HashMap** ë¬¸ì œì…ë‹ˆë‹¤.
- DFSë¡œ íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ë©° ëˆ„ì í•©(prefix sum)ì„ ê³„ì‚°
- `í˜„ì¬ ëˆ„ì í•© - targetSum`ì´ ì´ì „ì— ì¡´ì¬í–ˆìœ¼ë©´ ê²½ë¡œê°€ ìˆë‹¤ëŠ” ëœ»
- ë°°ì—´ì—ì„œì˜ subarray sum ë¬¸ì œì™€ ê°™ì€ ì›ë¦¬!

---

## Level 2 - êµ¬ì¡° íŒíŠ¸

```python
def pathSum(self, root, targetSum):
    # prefix_sums: {ëˆ„ì í•©: ë“±ì¥ íšŸìˆ˜} ë”•ì…”ë„ˆë¦¬
    # ì´ˆê¸°ê°’: {0: 1} (ë¹ˆ ê²½ë¡œ)

    # DFS í•¨ìˆ˜ ì •ì˜
    def dfs(node, current_sum):
        # ë² ì´ìŠ¤ ì¼€ì´ìŠ¤: ë…¸ë“œê°€ Noneì´ë©´ 0

        # 1. í˜„ì¬ ëˆ„ì í•© ê°±ì‹ 

        # 2. current_sum - targetSumì´ prefix_sumsì— ìˆìœ¼ë©´?
        #    â†’ ê·¸ ê°œìˆ˜ë§Œí¼ ê²½ë¡œ ì¡´ì¬!

        # 3. í˜„ì¬ ëˆ„ì í•©ì„ prefix_sumsì— ì¶”ê°€

        # 4. ì™¼ìª½, ì˜¤ë¥¸ìª½ ìì‹ ì¬ê·€

        # 5. Backtracking: í˜„ì¬ ëˆ„ì í•©ì„ prefix_sumsì—ì„œ ì œê±°
        #    (ë‹¤ë¥¸ ê²½ë¡œ íƒìƒ‰ ì‹œ ì˜í–¥ ì•ˆ ì£¼ë„ë¡)

        # 6. ê²½ë¡œ ìˆ˜ ë°˜í™˜
```

---

## Level 3 - ì „ì²´ í’€ì´

```python
from collections import defaultdict

def pathSum(self, root: Optional[TreeNode], targetSum: int) -> int:
    # prefix_sums[x] = "ëˆ„ì í•©ì´ xì¸ ë…¸ë“œê°€ ëª‡ ê°œ ìˆì—ˆë‚˜"
    prefix_sums = defaultdict(int)
    prefix_sums[0] = 1  # ë¹ˆ ê²½ë¡œ (ë£¨íŠ¸ë¶€í„° ì‹œì‘í•˜ëŠ” ê²½ë¡œ ì²˜ë¦¬ìš©)

    def dfs(node, current_sum):
        if not node:
            return 0

        # 1. í˜„ì¬ê¹Œì§€ì˜ ëˆ„ì í•©
        current_sum += node.val

        # 2. current_sum - targetSumì´ ì´ì „ì— ìˆì—ˆë‹¤ë©´
        #    ê·¸ ì§€ì ë¶€í„° ì—¬ê¸°ê¹Œì§€ê°€ targetSumì¸ ê²½ë¡œ!
        # ì˜ˆ: ëˆ„ì í•© [0, 10, 15, 8] ì—ì„œ targetSum=8
        #     current_sum=15ì¼ ë•Œ, 15-8=7 â†’ ì—†ìŒ
        #     current_sum=8ì¼ ë•Œ, 8-8=0 â†’ ìˆìŒ! (ë£¨íŠ¸~í˜„ì¬)
        count = prefix_sums[current_sum - targetSum]

        # 3. í˜„ì¬ ëˆ„ì í•© ê¸°ë¡
        prefix_sums[current_sum] += 1

        # 4. ìì‹ ë…¸ë“œ íƒìƒ‰
        count += dfs(node.left, current_sum)
        count += dfs(node.right, current_sum)

        # 5. Backtracking: ë‹¤ë¥¸ ê²½ë¡œì— ì˜í–¥ ì£¼ì§€ ì•Šë„ë¡ ì œê±°
        # ì´ ë…¸ë“œë¥¼ ë– ë‚˜ë©´ ì´ ëˆ„ì í•©ì€ ë” ì´ìƒ ìœ íš¨í•˜ì§€ ì•ŠìŒ
        prefix_sums[current_sum] -= 1

        return count

    return dfs(root, 0)
```

### Prefix Sum ì›ë¦¬ (ë°°ì—´ ë¹„ìœ )

```
ë°°ì—´: [10, 5, 3], targetSum = 8

ëˆ„ì í•©: [10, 15, 18]

index 2ì—ì„œ: 18 - 8 = 10 â†’ ëˆ„ì í•© 10ì´ ìˆìŒ!
â†’ index 0 ë‹¤ìŒë¶€í„° index 2ê¹Œì§€ í•© = 5+3 = 8 âœ“

íŠ¸ë¦¬ì—ì„œë„ ë˜‘ê°™ì€ ì›ë¦¬!
```

---

## ğŸ¤” ìì£¼í•˜ëŠ” ì‹¤ìˆ˜

### 1. Backtracking ì•ˆ í•¨
```python
# âŒ prefix_sumsì—ì„œ ì œê±° ì•ˆ í•˜ë©´
# ë‹¤ë¥¸ ê°€ì§€(branch)ì—ì„œ ì˜ëª»ëœ ê²½ë¡œë¥¼ ì…ˆ

# âœ… DFS ëë‚˜ê³  ë°˜ë“œì‹œ ì œê±°
prefix_sums[current_sum] -= 1
```

### 2. ì´ˆê¸°ê°’ {0: 1} ë¹ ëœ¨ë¦¼
```python
# âŒ ë¹ˆ ë”•ì…”ë„ˆë¦¬ë¡œ ì‹œì‘
prefix_sums = defaultdict(int)
# ë£¨íŠ¸ë¶€í„° ì‹œì‘í•˜ëŠ” ê²½ë¡œë¥¼ ëª» ì°¾ìŒ

# âœ… 0: 1ë¡œ ì´ˆê¸°í™”
prefix_sums[0] = 1
# current_sum - targetSum == 0 â†’ ë£¨íŠ¸ë¶€í„°ì˜ ê²½ë¡œ
```

---

## ğŸ¯ ì‹œê°„/ê³µê°„ ë³µì¡ë„

- **ì‹œê°„: O(n)** - ê° ë…¸ë“œ í•œ ë²ˆì”© ë°©ë¬¸
- **ê³µê°„: O(n)** - ì¬ê·€ ìŠ¤íƒ + HashMap

---

## ğŸš€ ê´€ë ¨ ë¬¸ì œ

- LeetCode 112: Path Sum (ê²½ë¡œ ì¡´ì¬ ì—¬ë¶€)
- LeetCode 113: Path Sum II (ê²½ë¡œ ëª©ë¡)
- LeetCode 560: Subarray Sum Equals K (ë°°ì—´ ë²„ì „ - ê°™ì€ ì›ë¦¬!)

í™”ì´íŒ…! Prefix Sum + HashMap íŒ¨í„´ì€ **ë©´ì ‘ ë‹¨ê³¨ ê¸°ë²•**ì…ë‹ˆë‹¤! ğŸ”¥
